version: '3'

services:
    vaultwarden:
        image: vaultwarden/server:latest
        container_name: vaultwarden
        restart: unless-stopped
        user: "0:0"
        environment:
            WEBSOCKET_ENABLED: "true"  # Enable WebSocket notifications.
        volumes:
            - ./vw-data:/data
        expose:
            - 80
        deploy:
            resources:
                limits:
                    cpus: '2.0'

networks:
    default:
        external: true
        name: "{{ docker_network }}"
